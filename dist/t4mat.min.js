!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.t4mat=t()}(this,function(){"use strict";var e=function(e){function t(e){return e="string"==typeof e||"number"==typeof e?new Date(e).getTime():"object"==typeof e&&null!==e?e.getTime():(new Date).getTime()}var n=e.t1||e.time1||e.t||e.time,o=e.t2||e.time2;return n=t(n),o=t(o),{t1:n,t2:o,format:"string"==typeof e.format?e.format:"{R}"}},t=function(e){return e.seconds=e.mseconds/1e3,e.minutes=e.seconds/60,e.hours=e.minutes/60,e.days=e.hours/24,e.weeks=e.days/7,e.months=e.days/31,e.years=e.months/12,e.day=new Date(e.mseconds).getDate(),e.dayOfTheWeek=new Date(e.mseconds).getDay(),e.month=new Date(e.mseconds).getMonth(),e.year=new Date(e.mseconds).getFullYear(),e},n=function(e,t){return[{UU:"second",U:"sec",value:Math.round(e.seconds-t.seconds),threshold:60},{UU:"minute",U:"min",value:Math.round(e.minutes-t.minutes),threshold:60},{UU:"hour",U:"hr",value:Math.round(e.hours-t.hours),threshold:24},{UU:"day",U:"day",value:Math.round(e.days-t.days),threshold:27},{UU:"week",U:"week",value:Math.round(e.weeks-t.weeks),threshold:4},{UU:"month",U:"month",value:Math.round(e.months-t.months),threshold:12},{UU:"year",U:"yr",value:Math.round(e.years-t.years),threshold:1/0}]},o={days:[{T:"Sunday",TT:"Sun."},{T:"Monday",TT:"Mon."},{T:"Tuesday",TT:"Tue."},{T:"Wednesday",TT:"Wed."},{T:"Thursday",TT:"Thu."},{T:"Friday",TT:"Fri."},{T:"Saturday",TT:"Sat."}],months:[{T:"January",TT:"Jan."},{T:"February",TT:"Feb."},{T:"March",TT:"Mar."},{T:"April",TT:"Apr."},{T:"May",TT:"May"},{T:"June",TT:"Jun."},{T:"July",TT:"Jul."},{T:"August",TT:"Aug."},{T:"September",TT:"Sep."},{T:"October",TT:"Oct."},{T:"November",TT:"Nov."},{T:"December",TT:"Dec."}]},s=function(s){s=e(s);var a=t({mseconds:s.t1}),r=t({mseconds:s.t2}),i={},d=n(r,a);return d.forEach(function(e){Math.abs(e.value)<e.threshold&&!i.R&&(i.R=""+(e.value<0?"in ":"")+Math.abs(e.value)+" "+e.U+(Math.abs(e.value)>1?"s":"")+(e.value>0?" ago":""),i.RR=""+(e.value<0?"in ":"")+Math.abs(e.value)+" "+e.UU+(Math.abs(e.value)>1?"s":"")+(e.value>0?" ago":"")),d=[]}),i.d=a.day,i.dd=a.day<10?"0"+i.d.toString():i.dd=i.d,i.D=o.days[a.dayOfTheWeek-1].TT,i.DD=o.days[a.dayOfTheWeek-1].T,i.m=Number(a.month)+1,i.mm=a.month<10?"0"+i.m.toString():i.mm=i.m,i.M=o.months[a.month].TT,i.MM=o.months[a.month].T,i.YYYY=a.year.toString(),i.YY=i.YYYY.substr(2),s.format.split("{d}").join(i.d).split("{dd}").join(i.dd).split("{D}").join(i.D).split("{DD}").join(i.DD).split("{m}").join(i.m).split("{mm}").join(i.mm).split("{M}").join(i.M).split("{MM}").join(i.MM).split("{Y}").join(i.YY).split("{y}").join(i.YY).split("{yy}").join(i.YY).split("{YY}").join(i.YY).split("{yyy}").join(i.YYYY).split("{YYY}").join(i.YYYY).split("{yyyy}").join(i.YYYY).split("{YYYY}").join(i.YYYY).split("{r}").join(i.R).split("{R}").join(i.R).split("{rr}").join(i.RR).split("{RR}").join(i.RR)};return s});